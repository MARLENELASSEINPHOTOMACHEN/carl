# lazygit configuration for carl integration
# Copy relevant sections to: ~/Library/Application Support/lazygit/config.yml

customCommands:
  # Ctrl+A: Generate message, show in editable field, then commit
  - key: '<c-a>'
    context: 'files'
    description: 'AI: Generate commit'
    loadingText: 'Generating commit message...'
    prompts:
      - type: 'input'
        title: 'Commit message (edit if needed):'
        key: 'Message'
        initialValue: '{{ runCommand "carl --staged" }}'
    command: 'git commit -m "{{.Form.Message}}"'

  # Ctrl+G: Generate and commit immediately (no editing)
  - key: '<c-g>'
    context: 'files'
    description: 'AI: Commit now'
    loadingText: 'Generating commit message...'
    command: 'git commit -m "$(carl --staged)"'
